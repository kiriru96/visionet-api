(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["submitwo"],{1681:function(t,e,i){},"72b1":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-main",[i("v-container",{attrs:{"fill-width":"","justify-center":""}},[i("v-text-field",{attrs:{label:"ID",disabled:""},model:{value:t.woDetail.woid,callback:function(e){t.$set(t.woDetail,"woid",e)},expression:"woDetail.woid"}}),i("v-text-field",{attrs:{label:"Device",disabled:""},model:{value:t.woDetail.device,callback:function(e){t.$set(t.woDetail,"device",e)},expression:"woDetail.device"}}),i("v-text-field",{attrs:{label:"Customer",disabled:""},model:{value:t.woDetail.customer,callback:function(e){t.$set(t.woDetail,"customer",e)},expression:"woDetail.customer"}}),i("v-list",t._l(t.image_list,(function(e,a){return i("v-list-item",{key:a},[i("v-list-item-content",{attrs:{justify:"center"}},[i("v-img",{staticStyle:{margin:"2px"},attrs:{"aspect-ratio":"1",contain:"",block:"",width:"300",src:e}}),i("v-textarea",{attrs:{counter:100,rows:"3",label:"Description"},model:{value:t.description_list[a],callback:function(e){t.$set(t.description_list,a,e)},expression:"description_list[i]"}}),i("v-icon",{attrs:{color:"primary"},on:{click:function(e){return t.removeImage(a)}}},[t._v("\n                        mdi-delete\n                    ")])],1)],1)})),1),i("v-btn",{staticStyle:{"margin-bottom":"5px","margin-top":"5px"},attrs:{disabled:t.image_list.length>=3,block:"",color:"primary",dark:""},on:{click:t.selectImage}},[i("v-icon",[t._v("mdi-camera")])],1),i("v-btn",{staticStyle:{"margin-bottom":"5px","margin-top":"5px"},attrs:{disabled:t.image_list.length<1,block:"",color:"primary",dark:""},on:{click:t.submitWO}},[i("v-icon",[t._v("mdi-send")])],1),i("input",{ref:"fileinput",staticStyle:{display:"none"},attrs:{type:"file"},on:{input:t.pickFile}})],1),i("v-snackbar",{attrs:{value:t.responseMsg,color:t.color,"multi-line":"multi-line"===t.mode,timeout:t.timeout,vertical:"vertical"===t.mode}},[t._v("\n        "+t._s(t.responseMsg)+"\n    ")])],1)},s=[],o=(i("a434"),i("b0c0"),{props:{workobject:Object},created:function(){this.id=this.$route.query.id,this.detailWorkOrderAPI()},data:function(){return{image_list:[],file_list:[],description_list:[],timeout:6e3,color:"",mode:"",send:!0}},methods:{detailWorkOrderAPI:function(){if(!this.isLoading){var t=this.$store.dispatch;t("engginerpage/detailWorkOrder",this.id)}},selectImage:function(){this.image_list.length<=3&&this.$refs.fileinput.click()},removeImage:function(t){this.image_list.splice(t,1),this.file_list.splice(t,1)},pickFile:function(){var t=this,e=this.$refs.fileinput,i=e.files;if(i&&i[0]){var a=new FileReader;a.onload=function(e){t.image_list.push(e.target.result)},this.file_list.push(i[0]),this.description_list.push(""),a.readAsDataURL(i[0]),this.$emit("input",i[0])}},submitWO:function(){var t=new FormData;t.append("idwo",this.woDetail.woid);for(var e=0;e<this.file_list.length;e++){var i=this.file_list[e];t.append("image[".concat(e,"]"),i)}for(var a=0;a<this.description_list.length;a++){var s=this.description_list[a];t.append("desc[".concat(a,"]"),s)}var o=this.$store.dispatch;"RevisiWO"===this.$route.name?o("engginerpage/editWO",t):o("engginerpage/inputWO",t)}},computed:{woDetail:function(){return this.$store.getters["engginerpage/getDetail"]},responseMsg:function(){return this.$store.getters["engginerpage/getError"]}},watch:{}}),n=o,r=i("2877"),l=i("6544"),c=i.n(l),u=i("8336"),d=i("a523"),p=i("132d"),h=i("adda"),m=i("8860"),g=i("da13"),f=i("5d23"),v=i("f6c4"),w=i("2db4"),b=i("8654"),x=i("a844"),k=Object(r["a"])(n,a,s,!1,null,null,null);e["default"]=k.exports;c()(k,{VBtn:u["a"],VContainer:d["a"],VIcon:p["a"],VImg:h["a"],VList:m["a"],VListItem:g["a"],VListItemContent:f["b"],VMain:v["a"],VSnackbar:w["a"],VTextField:b["a"],VTextarea:x["a"]})},a434:function(t,e,i){"use strict";var a=i("23e7"),s=i("23cb"),o=i("a691"),n=i("50c4"),r=i("7b0b"),l=i("65f0"),c=i("8418"),u=i("1dde"),d=u("splice"),p=Math.max,h=Math.min,m=9007199254740991,g="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var i,a,u,d,f,v,w=r(this),b=n(w.length),x=s(t,b),k=arguments.length;if(0===k?i=a=0:1===k?(i=0,a=b-x):(i=k-2,a=h(p(o(e),0),b-x)),b+i-a>m)throw TypeError(g);for(u=l(w,a),d=0;d<a;d++)f=x+d,f in w&&c(u,d,w[f]);if(u.length=a,i<a){for(d=x;d<b-a;d++)f=d+a,v=d+i,f in w?w[v]=w[f]:delete w[v];for(d=b;d>b-a+i;d--)delete w[d-1]}else if(i>a)for(d=b-a;d>x;d--)f=d+a-1,v=d+i-1,f in w?w[v]=w[f]:delete w[v];for(d=0;d<i;d++)w[d+x]=arguments[d+2];return w.length=b-a+i,u}})},a844:function(t,e,i){"use strict";i("1681");var a=i("8654"),s=i("58df");const o=Object(s["a"])(a["a"]);e["a"]=o.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:t=>!isNaN(parseFloat(t))},rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseInt(t,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...a["a"].options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout(()=>{this.autoGrow&&this.calculateInputHeight()},0)},methods:{calculateInputHeight(){const t=this.$refs.input;if(!t)return;t.style.height="0";const e=t.scrollHeight,i=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(i,e)+"px"},genInput(){const t=a["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput(t){a["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})}}]);
//# sourceMappingURL=submitwo.72dbb6c2.js.map