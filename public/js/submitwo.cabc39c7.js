(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["submitwo"],{1681:function(t,e,i){},"2db4":function(t,e,i){"use strict";i("ca71");var s=i("8dd9"),a=i("a9ad"),o=i("7560"),n=i("f2e7"),r=i("fe6c"),l=i("58df"),c=i("80d2"),u=i("d9bd");e["a"]=Object(l["a"])(s["a"],a["a"],n["a"],Object(r["b"])(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:t=>"string"===typeof t||!1===t},vertical:Boolean},data:()=>({activeTimeout:-1}),computed:{classes(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground(){return!this.text&&!this.outlined},isDark(){return this.hasBackground?!this.light:o["a"].options.computed.isDark.call(this)},styles(){if(this.absolute)return{};const{bar:t,bottom:e,footer:i,insetFooter:s,left:a,right:o,top:n}=this.$vuetify.application;return{paddingBottom:Object(c["g"])(e+i+s),paddingLeft:this.app?Object(c["g"])(a):void 0,paddingRight:this.app?Object(c["g"])(o):void 0,paddingTop:Object(c["g"])(t+n)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted(){this.isActive&&this.setTimeout()},created(){this.$attrs.hasOwnProperty("auto-height")&&Object(u["e"])("auto-height",this),0==this.timeout&&Object(u["d"])('timeout="0"',"-1",this)},methods:{genActions(){return this.$createElement("div",{staticClass:"v-snack__action "},[Object(c["s"])(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent(){return this.$createElement("div",{staticClass:"v-snack__content",class:{[this.contentClass]:!0},attrs:{role:"status","aria-live":"polite"}},[Object(c["s"])(this)])},genWrapper(){const t=this.hasBackground?this.setBackgroundColor:this.setTextColor,e=t(this.color,{staticClass:"v-snack__wrapper",class:s["a"].options.computed.classes.call(this),style:s["a"].options.computed.styles.call(this),directives:[{name:"show",value:this.isActive}],on:{mouseenter:()=>window.clearTimeout(this.activeTimeout),mouseleave:this.setTimeout}});return this.$createElement("div",e,[this.genContent(),this.genActions()])},genTransition(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout(){window.clearTimeout(this.activeTimeout);const t=Number(this.timeout);this.isActive&&![0,-1].includes(t)&&(this.activeTimeout=window.setTimeout(()=>{this.isActive=!1},t))}},render(t){return t("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})},a434:function(t,e,i){"use strict";var s=i("23e7"),a=i("23cb"),o=i("a691"),n=i("50c4"),r=i("7b0b"),l=i("65f0"),c=i("8418"),u=i("1dde"),h=u("splice"),d=Math.max,p=Math.min,m=9007199254740991,g="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!h},{splice:function(t,e){var i,s,u,h,v,f,b=r(this),w=n(b.length),k=a(t,w),x=arguments.length;if(0===x?i=s=0:1===x?(i=0,s=w-k):(i=x-2,s=p(d(o(e),0),w-k)),w+i-s>m)throw TypeError(g);for(u=l(b,s),h=0;h<s;h++)v=k+h,v in b&&c(u,h,b[v]);if(u.length=s,i<s){for(h=k;h<w-s;h++)v=h+s,f=h+i,v in b?b[f]=b[v]:delete b[f];for(h=w;h>w-s+i;h--)delete b[h-1]}else if(i>s)for(h=w-s;h>k;h--)v=h+s-1,f=h+i-1,v in b?b[f]=b[v]:delete b[f];for(h=0;h<i;h++)b[h+k]=arguments[h+2];return b.length=w-s+i,u}})},a844:function(t,e,i){"use strict";i("1681");var s=i("8654"),a=i("58df");const o=Object(a["a"])(s["a"]);e["a"]=o.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:t=>!isNaN(parseFloat(t))},rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseInt(t,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...s["a"].options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout(()=>{this.autoGrow&&this.calculateInputHeight()},0)},methods:{calculateInputHeight(){const t=this.$refs.input;if(!t)return;t.style.height="0";const e=t.scrollHeight,i=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(i,e)+"px"},genInput(){const t=s["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput(t){s["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},ca71:function(t,e,i){},e1c0:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-main",[i("v-container",{attrs:{"fill-width":"","justify-center":""}},[i("v-text-field",{attrs:{label:"ID",disabled:""},model:{value:t.woDetail.woid,callback:function(e){t.$set(t.woDetail,"woid",e)},expression:"woDetail.woid"}}),i("v-text-field",{attrs:{label:"Device",disabled:""},model:{value:t.woDetail.device,callback:function(e){t.$set(t.woDetail,"device",e)},expression:"woDetail.device"}}),i("v-text-field",{attrs:{label:"Customer",disabled:""},model:{value:t.woDetail.customer,callback:function(e){t.$set(t.woDetail,"customer",e)},expression:"woDetail.customer"}}),i("v-list",t._l(t.image_list,(function(e,s){return i("v-list-item",{key:s},[i("v-list-item-content",{attrs:{justify:"center"}},[i("v-img",{staticStyle:{margin:"2px"},attrs:{"aspect-ratio":"1",contain:"",block:"",width:"300",src:e}}),i("v-textarea",{attrs:{counter:100,rows:"3",label:"Description"},model:{value:t.description_list[s],callback:function(e){t.$set(t.description_list,s,e)},expression:"description_list[i]"}}),i("v-icon",{attrs:{color:"primary"},on:{click:function(e){return t.removeImage(s)}}},[t._v(" mdi-delete ")])],1)],1)})),1),i("v-btn",{staticStyle:{"margin-bottom":"5px","margin-top":"5px"},attrs:{disabled:t.image_list.length>=3,block:"",color:"primary",dark:""},on:{click:t.selectImage}},[i("v-icon",[t._v("mdi-camera")])],1),i("v-btn",{staticStyle:{"margin-bottom":"5px","margin-top":"5px"},attrs:{disabled:t.image_list.length<1,block:"",color:"primary",dark:""},on:{click:t.submitWO}},[i("v-icon",[t._v("mdi-send")])],1),i("input",{ref:"fileinput",staticStyle:{display:"none"},attrs:{type:"file"},on:{input:t.pickFile}})],1),i("v-snackbar",{attrs:{value:t.responseMsg,color:t.color,"multi-line":"multi-line"===t.mode,timeout:t.timeout,vertical:"vertical"===t.mode}},[t._v(" "+t._s(t.responseMsg)+" ")])],1)},a=[],o=(i("a434"),i("b0c0"),{props:{workobject:Object},created:function(){this.id=this.$route.query.id,this.detailWorkOrderAPI()},data:function(){return{image_list:[],file_list:[],description_list:[],timeout:6e3,color:"",mode:"",send:!0}},methods:{detailWorkOrderAPI:function(){if(!this.isLoading){var t=this.$store.dispatch;t("engineerpage/detailWorkOrder",this.id)}},selectImage:function(){this.image_list.length<=3&&this.$refs.fileinput.click()},removeImage:function(t){this.image_list.splice(t,1),this.file_list.splice(t,1)},pickFile:function(){var t=this,e=this.$refs.fileinput,i=e.files;if(i&&i[0]){var s=new FileReader;s.onload=function(e){t.image_list.push(e.target.result)},this.file_list.push(i[0]),this.description_list.push(""),s.readAsDataURL(i[0]),this.$emit("input",i[0])}},submitWO:function(){var t=new FormData;t.append("idwo",this.woDetail.woid);for(var e=0;e<this.file_list.length;e++){var i=this.file_list[e];t.append("image[".concat(e,"]"),i)}for(var s=0;s<this.description_list.length;s++){var a=this.description_list[s];t.append("desc[".concat(s,"]"),a)}var o=this.$store.dispatch;"RevisiWO"===this.$route.name?o("engineerpage/editWO",t):o("engineerpage/inputWO",t)}},computed:{woDetail:function(){return this.$store.getters["engineerpage/getDetail"]},responseMsg:function(){return this.$store.getters["engineerpage/getError"]}},watch:{}}),n=o,r=i("2877"),l=i("6544"),c=i.n(l),u=i("8336"),h=i("a523"),d=i("132d"),p=i("adda"),m=i("8860"),g=i("da13"),v=i("5d23"),f=i("f6c4"),b=i("2db4"),w=i("8654"),k=i("a844"),x=Object(r["a"])(n,s,a,!1,null,null,null);e["default"]=x.exports;c()(x,{VBtn:u["a"],VContainer:h["a"],VIcon:d["a"],VImg:p["a"],VList:m["a"],VListItem:g["a"],VListItemContent:v["b"],VMain:f["a"],VSnackbar:b["a"],VTextField:w["a"],VTextarea:k["a"]})}}]);
//# sourceMappingURL=submitwo.cabc39c7.js.map